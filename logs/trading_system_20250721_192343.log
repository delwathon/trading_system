2025-07-21 19:24:19 - TradingSystem - INFO - ðŸš€ COMPLETE ENHANCED SYSTEM WITH MULTI-TIMEFRAME & MYSQL DATABASE INITIALIZED!
2025-07-21 19:24:19 - TradingSystem - INFO - âœ… Multi-Timeframe Confirmation: Primary 15m, Confirmation 1h/4h
2025-07-21 19:24:19 - TradingSystem - INFO - âœ… Database: bybit_trading_system @ localhost
2025-07-21 19:24:19 - TradingSystem - INFO - ðŸš€ STARTING ENHANCED ANALYSIS WITH 15mâ†’1h/4h MTF CONFIRMATION (PARALLEL + MYSQL)
2025-07-21 19:24:19 - TradingSystem - INFO - ==========================================================================================
2025-07-21 19:24:25 - TradingSystem - INFO - ðŸ“Š Analyzing 219 symbols with MTF confirmation...
2025-07-21 19:24:25 - TradingSystem - INFO -    Primary Timeframe: 15m
2025-07-21 19:24:25 - TradingSystem - INFO -    Confirmation Timeframes: 1h, 4h
2025-07-21 19:24:25 - TradingSystem - INFO -    MTF Weight Multiplier: 1.5x
2025-07-21 19:24:25 - TradingSystem - INFO -    Database: MySQL @ localhost
2025-07-21 19:26:09 - TradingSystem - WARNING - Insufficient 15m data for TA/USDT:USDT
2025-07-21 19:27:43 - TradingSystem - INFO - Generated 5 charts (limit reached for demo)
2025-07-21 19:27:49 - TradingSystem - INFO - âš¡ 15mâ†’1h/4h MTF PARALLEL ANALYSIS COMPLETED!
2025-07-21 19:27:49 - TradingSystem - INFO -    Execution Time: 209.8s
2025-07-21 19:27:49 - TradingSystem - INFO -    MTF Confirmations: Strong: 0, Partial: 1, None: 4
2025-07-21 19:27:49 - utils.database_manager - INFO - ðŸ“Š Saving results to MySQL database for scan ID: 20250721_192749
2025-07-21 19:27:49 - utils.database_manager - INFO - âœ… Created scan session: 20250721_192749 (ID: 13) - Primary: 15m, Confirmation: 1h, 4h
2025-07-21 19:27:49 - utils.database_manager - ERROR - Error saving signals to MySQL: (pymysql.err.DataError) (1406, "Data too long for column 'symbol' at row 3")
[SQL: INSERT INTO trading_signals (scan_session_id, timestamp, symbol, side, order_type, entry_price, current_price, stop_loss, take_profit_1, take_profit_2, confidence, original_confidence, mtf_boost, mtf_status, mtf_confirmed_timeframes, mtf_conflicting_ ... 4367 characters truncated ... nfluence_zones__4)s, %(entry_methods__4)s) RETURNING trading_signals.id, trading_signals.id AS id__1]
[parameters: {'mtf_status__0': 'PARTIAL', 'chart_file__0': 'charts/tradingview_ARKUSDTUSDT_screenshot_20250721_192741.png', 'price_change_24h__0': 0.2402, 'fibonacci_score__0': 0.0, 'side__0': 'sell', 'mtf_confirmed_timeframes__0': '["1h"]', 'timestamp__0': datetime.datetime(2025, 7, 21, 18, 27, 49, 537507), 'fibonacci_data__0': '{"trend": "downtrend", "swing_high": 0.5074, "swing_low": 0.4947, "range": 0.012699999999999989, "levels": {"0.0%": 0.4947, "23.6%": 0.49769719999999 ... (292 characters truncated) ...  "127.2%": 22, "141.4%": 24, "161.8%": 25}, "key_levels": {"golden_ratio": 0.5025486, "half_retracement": 0.50105, "shallow_retracement": 0.4995514}}', 'take_profit_2__0': 0.48170074500145504, 'symbol__0': 'ARK/USDT:USDT', 'entry_methods__0': '{"volume_profile": {"entry_price": 0.4986744897959184, "confidence": 0.95, "method": "volume_profile", "supporting_data": {"poc": 0.5237969387755101, ... (13 characters truncated) ... 8704081632654, "val": 0.4484295918367347, "hvn_count": 10}}, "confluence_zones": 7, "technical_analysis": true, "stoch_rsi": false, "ichimoku": true}', 'entry_price__0': 0.5006, 'mtf_confirmation_count__0': 1, 'signal_type__0': 'enhanced_multi_method', 'current_price__0': 0.5006, 'scan_session_id__0': 13, 'mtf_confirmation_strength__0': 0.5, 'mtf_boost__0': 7.0, 'technical_summary__0': '{"trend": {"direction": "Bearish", "score": 0, "sma_alignment": false, "ema_alignment": false}, "momentum": {"rsi": 45.2843236100439, "status": "Neut ... (288 characters truncated) ... ", "ratio": 1.2854662342035612, "spike_detected": false}, "ichimoku": {"status": "Bearish", "price_above_cloud": false, "tenkan_above_kijun": false}}', 'risk_reward_ratio__0': 2.8000000000000016, 'priority_boost__0': 50, 'volume_24h__0': 8936448.0471, 'total_risk_score__0': 0.1, 'volume_profile_data__0': '{"poc": 0.5237969387755101, "vah": 0.5388704081632654, "val": 0.4484295918367347, "hvn_levels": [0.4986744897959184, 0.5011867346938776, 0.5036989795 ... (9252 characters truncated) ... 999973, -417947.43999999727, -647216.5599999973, -741921.5199999972], "total_volume": 161644656.39999998, "value_area_volume_pct": 68.65045592685611}', 'technical_score__0': 0.0, 'volume_score__0': 1.2854662342035612, 'confluence_zones_count__0': 9, 'order_type__0': 'market', 'mtf_conflicting_timeframes__0': '[]', 'stop_loss__0': 0.5073497339280518, 'original_confidence__0': 88.0, 'risk_level__0': 'Low', 'confidence__0': 95.0, 'confluence_zones__0': '[{"price": 0.5016161384324442, "strength": 163, "importance": 10, "confluence_count": 5, "methods": ["fib_50.0%", "fib_61.8%", "hvn", "sma_50", "vwap ... (1856 characters truncated) ... ence_count": 2, "methods": ["hvn", "hvn"], "distance_from_current": 0.05888444071196197, "zone_type": "resistance", "total_score": 7.70557779644019}]', 'take_profit_1__0': 0.48980042571511717, 'mtf_status__1': 'NONE', 'chart_file__1': 'charts/tradingview_GRIFFAINUSDTUSDT_screenshot_20250721_192723.png', 'price_change_24h__1': 2.1856, 'fibonacci_score__1': 0.0, 'side__1': 'buy', 'mtf_confirmed_timeframes__1': '[]', 'timestamp__1': datetime.datetime(2025, 7, 21, 18, 27, 49, 537515), 'fibonacci_data__1': '{"trend": "uptrend", "swing_high": 0.05668, "swing_low": 0.05217, "range": 0.00451, "levels": {"0.0%": 0.05668, "23.6%": 0.05561564, "38.2%": 0.05495 ... (274 characters truncated) ... 27.2%": 26, "141.4%": 12, "161.8%": 22}, "key_levels": {"golden_ratio": 0.05389282, "half_retracement": 0.054425, "shallow_retracement": 0.05495718}}', 'take_profit_2__1': 0.06109962768973171, 'symbol__1': 'GRIFFAIN/USDT:USDT', 'entry_methods__1': '{"volume_profile": {"entry_price": 0.054323367346938774, "confidence": 0.9311457672648583, "method": "volume_profile", "supporting_data": {"poc": 0.0 ... (32 characters truncated) ... 275510204082, "val": 0.04802887755102041, "hvn_count": 10}}, "confluence_zones": 5, "technical_analysis": true, "stoch_rsi": true, "ichimoku": false}', 'entry_price__1': 0.054331099571428565, 'mtf_confirmation_count__1': 0, 'signal_type__1': 'enhanced_multi_method', 'current_price__1': 0.0547 ... 75 parameters truncated ... 'priority_boost__3': 0, 'volume_24h__3': 9749889016.2307, 'total_risk_score__3': 0.1, 'volume_profile_data__3': '{"poc": 118187.95510204081, "vah": 119311.6448979592, "val": 117719.75102040818, "hvn_levels": [117907.03265306124, 118000.67346938775, 118094.314285 ... (9115 characters truncated) ... 0000004481, 66.71310000004507, 108.8331800000451, 58.697080000045105], "total_volume": 379443.31940000004, "value_area_volume_pct": 68.7956010169776}', 'technical_score__3': 0.0, 'volume_score__3': 1.2841104715474194, 'confluence_zones_count__3': 4, 'order_type__3': 'market', 'mtf_conflicting_timeframes__3': '["4h"]', 'stop_loss__3': 119026.24854081165, 'original_confidence__3': 80.0, 'risk_level__3': 'Low', 'confidence__3': 80.0, 'confluence_zones__3': '[{"price": 118394.29911538953, "strength": 890, "importance": 33, "confluence_count": 16, "methods": ["fib_38.2%", "fib_50.0%", "fib_61.8%", "volume_ ... (832 characters truncated) ... , "methods": ["fib_127.2%", "fib_141.4%"], "distance_from_current": 0.020547676185397306, "zone_type": "resistance", "total_score": 70.897261619073}]', 'take_profit_1__3': 116710.30233470137, 'mtf_status__4': 'NONE', 'chart_file__4': 'charts/tradingview_POLUSDTUSDT_screenshot_20250721_192635.png', 'price_change_24h__4': 2.8152, 'fibonacci_score__4': 0.0, 'side__4': 'sell', 'mtf_confirmed_timeframes__4': '[]', 'timestamp__4': datetime.datetime(2025, 7, 21, 18, 27, 49, 537524), 'fibonacci_data__4': '{"trend": "uptrend", "swing_high": 0.264, "swing_low": 0.2528, "range": 0.011199999999999988, "levels": {"0.0%": 0.264, "23.6%": 0.2613568, "38.2%":  ... (306 characters truncated) ... : 44, "141.4%": 47, "161.8%": 51}, "key_levels": {"golden_ratio": 0.25707840000000004, "half_retracement": 0.2584, "shallow_retracement": 0.2597216}}', 'take_profit_2__4': 0.2459080544415807, 'symbol__4': 'POL/USDT:USDT', 'entry_methods__4': '{"volume_profile": {"entry_price": 0.24666836734693878, "confidence": 0.5128564345136446, "method": "volume_profile", "supporting_data": {"poc": 0.23 ... (30 characters truncated) ... 12244897959, "val": 0.23135204081632654, "hvn_count": 10}}, "confluence_zones": 1, "technical_analysis": true, "stoch_rsi": false, "ichimoku": false}', 'entry_price__4': 0.2616845950550824, 'mtf_confirmation_count__4': 0, 'signal_type__4': 'enhanced_multi_method', 'current_price__4': 0.2593, 'scan_session_id__4': 13, 'mtf_confirmation_strength__4': 0.0, 'mtf_boost__4': 0.0, 'technical_summary__4': '{"trend": {"direction": "Bearish", "score": 0, "sma_alignment": true, "ema_alignment": false}, "momentum": {"rsi": 52.40578811213066, "status": "Neut ... (284 characters truncated) ... l", "ratio": 1.0623724631032792, "spike_detected": false}, "ichimoku": {"status": "Neutral", "price_above_cloud": true, "tenkan_above_kijun": false}}', 'risk_reward_ratio__4': 2.80000000000001, 'priority_boost__4': 0, 'volume_24h__4': 24250651.2943, 'total_risk_score__4': 0.1017768078778073, 'volume_profile_data__4': '{"poc": 0.2353826530612245, "vah": 0.2523112244897959, "val": 0.23135204081632654, "hvn_levels": [0.23215816326530614, 0.23296428571428573, 0.2337704 ... (9427 characters truncated) ... 01246.19999996922, 201683.9199999693, 370581.1599999694, 566859.5199999693], "total_volume": 516071098.4, "value_area_volume_pct": 69.15041167901218}', 'technical_score__4': 0.0, 'volume_score__4': 1.0623724631032792, 'confluence_zones_count__4': 10, 'order_type__4': 'limit', 'mtf_conflicting_timeframes__4': '["1h", "4h"]', 'stop_loss__4': 0.2673190738456187, 'original_confidence__4': 80.0, 'risk_level__4': 'Low', 'confidence__4': 80.0, 'confluence_zones__4': '[{"price": 0.246136337414966, "strength": 55, "importance": 7, "confluence_count": 3, "methods": ["fib_161.8%", "hvn", "hvn"], "distance_from_current ... (2003 characters truncated) ... _count": 2, "methods": ["volume_val", "hvn"], "distance_from_current": 0.1062279134561652, "zone_type": "support", "total_score": 7.468860432719174}]', 'take_profit_1__4': 0.25266942899022427}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-07-21 19:27:49 - utils.database_manager - ERROR - Error saving opportunities to MySQL: (pymysql.err.DataError) (1406, "Data too long for column 'symbol' at row 3")
[SQL: INSERT INTO trading_opportunities (scan_session_id, timestamp, rank, symbol, side, order_type, confidence, original_confidence, mtf_boost, entry_price, current_price, stop_loss, take_profit_1, take_profit_2, risk_reward_ratio, volume_24h, total_score ... 3484 characters truncated ... )s, %(technical_strength__4)s) RETURNING trading_opportunities.id, trading_opportunities.id AS id__1]
[parameters: {'mtf_status__0': 'PARTIAL', 'chart_file__0': 'charts/tradingview_ARKUSDTUSDT_screenshot_20250721_192741.png', 'mtf_conflicting__0': '[]', 'side__0': 'sell', 'technical_strength__0': 0.0, 'timestamp__0': datetime.datetime(2025, 7, 21, 18, 27, 49, 547976), 'take_profit_2__0': 0.48170074500145504, 'symbol__0': 'ARK/USDT:USDT', 'entry_price__0': 0.5006, 'mtf_confirmed__0': '["1h"]', 'distance_from_current__0': 0.0, 'rank__0': 1, 'mtf_confirmation_count__0': 1, 'signal_type__0': 'enhanced_multi_method', 'current_price__0': 0.5006, 'scan_session_id__0': 13, 'mtf_confirmation_strength__0': 0.5, 'mtf_total_timeframes__0': 2, 'mtf_boost__0': 7.0, 'risk_reward_ratio__0': 1.6000000000000032, 'priority_boost__0': 50, 'volume_24h__0': 8936448.0471, 'total_score__0': 0.6809046720706502, 'volume_score__0': 0.0, 'order_type__0': 'market', 'stop_loss__0': 0.5073497339280518, 'original_confidence__0': 88.0, 'risk_level__0': 'Low', 'confidence__0': 95.0, 'take_profit_1__0': 0.48980042571511717, 'mtf_status__1': 'NONE', 'chart_file__1': 'charts/tradingview_BTCUSDTUSDT_screenshot_20250721_192501.png', 'mtf_conflicting__1': '["4h"]', 'side__1': 'sell', 'technical_strength__1': 0.0, 'timestamp__1': datetime.datetime(2025, 7, 21, 18, 27, 49, 547982), 'take_profit_2__1': 115641.40408572738, 'symbol__1': 'BTC/USDT:USDT', 'entry_price__1': 118135.5, 'mtf_confirmed__1': '[]', 'distance_from_current__1': 0.0, 'rank__1': 2, 'mtf_confirmation_count__1': 0, 'signal_type__1': 'enhanced_multi_method', 'current_price__1': 118135.5, 'scan_session_id__1': 13, 'mtf_confirmation_strength__1': 0.0, 'mtf_total_timeframes__1': 2, 'mtf_boost__1': 0.0, 'risk_reward_ratio__1': 1.5999999999999968 ... 50 parameters truncated ... 'distance_from_current__3': 0.0, 'rank__3': 4, 'mtf_confirmation_count__3': 0, 'signal_type__3': 'enhanced_multi_method', 'current_price__3': 0.0547, 'scan_session_id__3': 13, 'mtf_confirmation_strength__3': 0.0, 'mtf_total_timeframes__3': 2, 'mtf_boost__3': 0.0, 'risk_reward_ratio__3': 1.5999999999999976, 'priority_boost__3': 0, 'volume_24h__3': 10829129.9943, 'total_score__3': 0.5002555623197338, 'volume_score__3': 0.0, 'order_type__3': 'limit', 'stop_loss__3': 0.05191376810060601, 'original_confidence__3': 95.0, 'risk_level__3': 'Low', 'confidence__3': 95.0, 'take_profit_1__3': 0.05819882992474465, 'mtf_status__4': 'NONE', 'chart_file__4': 'charts/tradingview_POLUSDTUSDT_screenshot_20250721_192635.png', 'mtf_conflicting__4': '["1h", "4h"]', 'side__4': 'sell', 'technical_strength__4': 0.0, 'timestamp__4': datetime.datetime(2025, 7, 21, 18, 27, 49, 547989), 'take_profit_2__4': 0.2459080544415807, 'symbol__4': 'POL/USDT:USDT', 'entry_price__4': 0.2616845950550824, 'mtf_confirmed__4': '[]', 'distance_from_current__4': 0.0, 'rank__4': 5, 'mtf_confirmation_count__4': 0, 'signal_type__4': 'enhanced_multi_method', 'current_price__4': 0.2593, 'scan_session_id__4': 13, 'mtf_confirmation_strength__4': 0.0, 'mtf_total_timeframes__4': 2, 'mtf_boost__4': 0.0, 'risk_reward_ratio__4': 1.6000000000000099, 'priority_boost__4': 0, 'volume_24h__4': 24250651.2943, 'total_score__4': 0.4779834196326775, 'volume_score__4': 0.0, 'order_type__4': 'limit', 'stop_loss__4': 0.2673190738456187, 'original_confidence__4': 80.0, 'risk_level__4': 'Low', 'confidence__4': 80.0, 'take_profit_1__4': 0.25266942899022427}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-07-21 19:27:49 - utils.database_manager - INFO - âœ… Saved market summary to MySQL database
2025-07-21 19:27:49 - utils.database_manager - INFO - ðŸ“„ MySQL Database Save Complete (Scan ID: 20250721_192749):
2025-07-21 19:27:49 - utils.database_manager - INFO -    Primary Timeframe: 15m
2025-07-21 19:27:49 - utils.database_manager - INFO -    Confirmation Timeframes: 1h, 4h
2025-07-21 19:27:49 - utils.database_manager - INFO -    Signals: 0
2025-07-21 19:27:49 - utils.database_manager - INFO -    Opportunities: 0
2025-07-21 19:27:49 - utils.database_manager - INFO -    Market Summary: âœ…
2025-07-21 19:27:49 - utils.database_manager - INFO -    Performance Metrics: 0
