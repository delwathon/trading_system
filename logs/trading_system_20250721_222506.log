2025-07-21 22:25:44 - TradingSystem - INFO - üöÄ COMPLETE ENHANCED SYSTEM WITH MULTI-TIMEFRAME & MYSQL DATABASE INITIALIZED!
2025-07-21 22:25:44 - TradingSystem - INFO - üöÄ STARTING OPTIMIZED ANALYSIS WITH 30m‚Üí1h/4h/6h MTF CONFIRMATION
2025-07-21 22:25:44 - TradingSystem - INFO -    üìä Charts generated ONLY for top-ranked signals (after analysis complete)
2025-07-21 22:25:44 - TradingSystem - INFO - ==========================================================================================
2025-07-21 22:25:51 - TradingSystem - INFO - üìä Analyzing 219 symbols with MTF confirmation...
2025-07-21 22:25:51 - TradingSystem - INFO -    Primary Timeframe: 30m
2025-07-21 22:25:51 - TradingSystem - INFO -    Confirmation Timeframes: 1h, 4h, 6h
2025-07-21 22:25:51 - TradingSystem - INFO -    MTF Weight Multiplier: 1.5x
2025-07-21 22:25:51 - TradingSystem - INFO -    Database: MySQL @ localhost
2025-07-21 22:25:51 - TradingSystem - INFO -    Chart Strategy: Top 5 signals only
2025-07-21 22:25:51 - TradingSystem - INFO - üìà PHASE 1: Signal Generation (No Charts)
2025-07-21 22:27:07 - analysis.multi_timeframe - ERROR - Failed to fetch HYPE/USDT:USDT 1h data: bybit GET https://api.bybit.com/v5/market/kline?symbol=HYPEUSDT&limit=200&interval=60&category=linear
2025-07-21 22:27:07 - analysis.multi_timeframe - WARNING -    Insufficient 1h data for HYPE/USDT:USDT
2025-07-21 22:27:38 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for PUMPFUN/USDT:USDT
2025-07-21 22:30:07 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for C/USDT:USDT
2025-07-21 22:30:12 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for C/USDT:USDT
2025-07-21 22:30:22 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for CROSS/USDT:USDT
2025-07-21 22:30:38 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for USELESS/USDT:USDT
2025-07-21 22:30:43 - TradingSystem - WARNING - Insufficient 30m data for TA/USDT:USDT
2025-07-21 22:30:48 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for ERA/USDT:USDT
2025-07-21 22:30:52 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for ERA/USDT:USDT
2025-07-21 22:34:42 - core.exchange - ERROR - Failed to fetch GRIFFAIN/USDT:USDT data: bybit GET https://api.bybit.com/v5/market/kline?symbol=GRIFFAINUSDT&limit=500&interval=30&category=linear
2025-07-21 22:34:42 - TradingSystem - WARNING - Insufficient 30m data for GRIFFAIN/USDT:USDT
2025-07-21 22:34:46 - core.exchange - ERROR - Failed to fetch ZBCN/USDT:USDT data: bybit GET https://api.bybit.com/v5/market/kline?symbol=ZBCNUSDT&limit=500&interval=30&category=linear
2025-07-21 22:34:46 - TradingSystem - WARNING - Insufficient 30m data for ZBCN/USDT:USDT
2025-07-21 22:34:52 - analysis.multi_timeframe - ERROR - Failed to fetch UXLINK/USDT:USDT 4h data: bybit GET https://api.bybit.com/v5/market/kline?symbol=UXLINKUSDT&limit=200&interval=240&category=linear
2025-07-21 22:34:52 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for UXLINK/USDT:USDT
2025-07-21 22:34:57 - analysis.multi_timeframe - ERROR - Failed to fetch ARKM/USDT:USDT 1h data: bybit GET https://api.bybit.com/v5/market/kline?symbol=ARKMUSDT&limit=200&interval=60&category=linear
2025-07-21 22:34:57 - analysis.multi_timeframe - WARNING -    Insufficient 1h data for ARKM/USDT:USDT
2025-07-21 22:35:03 - analysis.multi_timeframe - ERROR - Failed to fetch PHB/USDT:USDT 4h data: bybit GET https://api.bybit.com/v5/market/kline?symbol=PHBUSDT&limit=200&interval=240&category=linear
2025-07-21 22:35:03 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for PHB/USDT:USDT
2025-07-21 22:35:08 - core.exchange - ERROR - Failed to fetch BAL/USDT:USDT data: bybit GET https://api.bybit.com/v5/market/kline?symbol=BALUSDT&limit=500&interval=30&category=linear
2025-07-21 22:35:08 - TradingSystem - WARNING - Insufficient 30m data for BAL/USDT:USDT
2025-07-21 22:35:17 - core.exchange - ERROR - Failed to fetch DEEP/USDT:USDT data: bybit GET https://api.bybit.com/v5/market/kline?symbol=DEEPUSDT&limit=500&interval=30&category=linear
2025-07-21 22:35:17 - TradingSystem - WARNING - Insufficient 30m data for DEEP/USDT:USDT
2025-07-21 22:35:22 - core.exchange - ERROR - Failed to fetch XAUT/USDT:USDT data: bybit GET https://api.bybit.com/v5/market/kline?symbol=XAUTUSDT&limit=500&interval=30&category=linear
2025-07-21 22:35:22 - analysis.multi_timeframe - ERROR - Failed to fetch USUAL/USDT:USDT 4h data: bybit GET https://api.bybit.com/v5/market/kline?symbol=USUALUSDT&limit=200&interval=240&category=linear
2025-07-21 22:35:22 - TradingSystem - WARNING - Insufficient 30m data for XAUT/USDT:USDT
2025-07-21 22:35:22 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for USUAL/USDT:USDT
2025-07-21 22:36:53 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for TAC/USDT:USDT
2025-07-21 22:36:58 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for TAC/USDT:USDT
2025-07-21 22:37:08 - analysis.multi_timeframe - WARNING -    Insufficient 4h data for VELVET/USDT:USDT
2025-07-21 22:37:14 - analysis.multi_timeframe - WARNING -    Insufficient 6h data for VELVET/USDT:USDT
2025-07-21 22:39:18 - TradingSystem - INFO - üìä PHASE 2: Signal Ranking (213 signals in 814.6s)
2025-07-21 22:39:18 - TradingSystem - INFO - üèÜ Top 5 Signals After Ranking:
2025-07-21 22:39:18 - TradingSystem - INFO -    1. SAHARA/USDT:USDT BUY - 95% conf - MTF: STRONG
2025-07-21 22:39:18 - TradingSystem - INFO -    2. HAEDAL/USDT:USDT SELL - 95% conf - MTF: STRONG
2025-07-21 22:39:18 - TradingSystem - INFO -    3. HYPE/USDT:USDT SELL - 95% conf - MTF: PARTIAL
2025-07-21 22:39:18 - TradingSystem - INFO -    4. AAVE/USDT:USDT SELL - 95% conf - MTF: PARTIAL
2025-07-21 22:39:18 - TradingSystem - INFO -    5. MOODENG/USDT:USDT BUY - 95% conf - MTF: PARTIAL
2025-07-21 22:39:18 - TradingSystem - INFO - üìä PHASE 3: Chart Generation (Top 5 signals only)
2025-07-21 22:39:18 - TradingSystem - INFO - üìä Generating charts for TOP 5 signals only...
2025-07-21 22:40:12 - selenium.webdriver.common.selenium_manager - WARNING - Error sending stats to Plausible: error sending request for url (https://plausible.io/api/event)
2025-07-21 22:43:20 - TradingSystem - INFO - ‚úÖ Chart generation complete: 5/5 charts created
2025-07-21 22:43:20 - TradingSystem - INFO - ‚ö° 30m‚Üí1h/4h/6h OPTIMIZED MTF ANALYSIS COMPLETED!
2025-07-21 22:43:20 - TradingSystem - INFO -    Total Execution Time: 1056.5s
2025-07-21 22:43:20 - TradingSystem - INFO -    Signal Generation: 814.6s (213 signals)
2025-07-21 22:43:20 - TradingSystem - INFO -    Chart Generation: 242.0s (5 charts)
2025-07-21 22:43:20 - TradingSystem - INFO -    Chart Efficiency: 5/213 = 2.3% charted
2025-07-21 22:43:20 - TradingSystem - INFO -    MTF Confirmations: Strong: 2, Partial: 18, None: 193
2025-07-21 22:43:21 - utils.database_manager - ERROR - Error saving signals to MySQL: (pymysql.err.DataError) (1406, "Data too long for column 'symbol' at row 89")
[SQL: INSERT INTO trading_signals (scan_session_id, timestamp, symbol, side, order_type, entry_price, current_price, stop_loss, take_profit_1, take_profit_2, confidence, original_confidence, mtf_boost, mtf_status, mtf_confirmed_timeframes, mtf_conflicting_ ... 184323 characters truncated ... ence_zones__212)s, %(entry_methods__212)s) RETURNING trading_signals.id, trading_signals.id AS id__1]
[parameters: {'side__0': 'buy', 'technical_summary__0': '{"trend": {"direction": "Neutral", "score": 1, "sma_alignment": true, "ema_alignment": true}, "momentum": {"rsi": 49.27642763583376, "status": "Neutr ... (287 characters truncated) ... ", "ratio": 0.04703529696639611, "spike_detected": false}, "ichimoku": {"status": "Neutral", "price_above_cloud": false, "tenkan_above_kijun": true}}', 'order_type__0': 'limit', 'entry_price__0': 0.08444981591836735, 'stop_loss__0': 0.08128553538494511, 'confluence_zones__0': '[{"price": 0.07987444775510204, "strength": 52, "importance": 3, "confluence_count": 2, "methods": ["fib_127.2%", "hvn"], "distance_from_current": 0. ... (1539 characters truncated) ... , "methods": ["fib_0.0%", "resistance"], "distance_from_current": 0.021864211737629445, "zone_type": "resistance", "total_score": 8.890678941311853}]', 'current_price__0': 0.0869, 'confidence__0': 95.0, 'mtf_confirmed_timeframes__0': '["1h", "4h", "6h"]', 'volume_score__0': 0.04703529696639611, 'technical_score__0': 1.0, 'confluence_zones_count__0': 8, 'signal_type__0': 'enhanced_multi_method', 'scan_session_id__0': 1, 'volume_24h__0': 16303549.5333, 'fibonacci_data__0': '{"trend": "uptrend", "swing_high": 0.0888, "swing_low": 0.08176, "range": 0.007040000000000005, "levels": {"0.0%": 0.0888, "23.6%": 0.08713856, "38.2 ... (281 characters truncated) ... 127.2%": 50, "141.4%": 46, "161.8%": 50}, "key_levels": {"golden_ratio": 0.08444928, "half_retracement": 0.08528, "shallow_retracement": 0.08611072}}', 'mtf_confirmation_strength__0': 1.0, 'risk_level__0': 'Low', 'timestamp__0': datetime.datetime(2025, 7, 21, 21, 43, 21, 37874), 'volume_profile_data__0': '{"poc": 0.0728723469387755, "vah": 0.08643295918367347, "val": 0.07186785714285715, "hvn_levels": [0.07237010204081634, 0.0728723469387755, 0.0733745 ... (9439 characters truncated) ... 9508, -13277436.459999507, -13134653.079999506, -12991869.699999506], "total_volume": 2018529527.4999998, "value_area_volume_pct": 68.98359864592074}', 'risk_reward_ratio__0': 2.799999999999998, 'mtf_conflicting_timeframes__0': '[]', 'priority_boost__0': 100, 'mtf_confirmation_count__0': 3, 'chart_file__0': 'charts/tradingview_SAHARAUSDTUSDT_screenshot_20250721_224051.png', 'mtf_boost__0': 14.0, 'original_confidence__0': 81.0, 'take_profit_2__0': 0.09330980141194962, 'take_profit_1__0': 0.08951266477184294, 'fibonacci_score__0': 0.0, 'mtf_status__0': 'STRONG', 'symbol__0': 'SAHARA/USDT:USDT', 'price_change_24h__0': 0.0921, 'total_risk_score__0': 0.1, 'entry_methods__0': '{"volume_profile": {"entry_price": 0.08090826530612245, "confidence": 0.5, "method": "volume_profile", "supporting_data": {"poc": 0.0728723469387755, ... (58 characters truncated) ... hvn_count": 10}}, "confluence_zones": 6, "technical_analysis": true, "stoch_rsi_oversold": true, "stoch_rsi_bullish_cross": false, "ichimoku": false}', 'side__1': 'sell', 'technical_summary__1': '{"trend": {"direction": "Bearish", "score": 0, "sma_alignment": false, "ema_alignment": false}, "momentum": {"rsi": 45.10455805643444, "status": "Neu ... (289 characters truncated) ...  "ratio": 0.045076949663261555, "spike_detected": false}, "ichimoku": {"status": "Bearish", "price_above_cloud": false, "tenkan_above_kijun": false}}', 'order_type__1': 'limit', 'entry_price__1': 0.17158802953676322, 'stop_loss__1': 0.1761617950961769, 'confluence_zones__1': '[{"price": 0.17196408861028964, "strength": 55, "importance": 4, "confluence_count": 2, "methods": ["fib_38.2%", "vwap"], "distance_from_current": 0. ... (1100 characters truncated) ... nt": 2, "methods": ["volume_poc", "hvn"], "distance_from_current": 0.22972215248137923, "zone_type": "resistance", "total_score": 8.851389237593104}]', 'current_price__1': 0.1707, 'confidence__1': 95.0, 'mtf_confirmed_timeframes__1': '["1h", "4h", "6h"]', 'volume_score__1': 0.045076949663261555, 'technical_score__1': 0.0, 'confluence_zones_count__1': 6, 'signal_type__1': 'enhanced_multi_method', 'scan_session_id__1': 1, 'volume_24h__1': 5107171.412 ... 7355 parameters truncated ... 'risk_reward_ratio__211': 2.7999999999999936, 'mtf_conflicting_timeframes__211': '["4h", "6h"]', 'priority_boost__211': 0, 'mtf_confirmation_count__211': 0, 'chart_file__211': None, 'mtf_boost__211': 0.0, 'original_confidence__211': 73.0, 'take_profit_2__211': 0.060738525132933756, 'take_profit_1__211': 0.06307426800641276, 'fibonacci_score__211': 0.0, 'mtf_status__211': 'NONE', 'symbol__211': 'RARE/USDT:USDT', 'price_change_24h__211': 3.1813, 'total_risk_score__211': 0.2484512579418748, 'entry_methods__211': '{"volume_profile": {"entry_price": 0.06370979591836734, "confidence": 0.7729400089534195, "method": "volume_profile", "supporting_data": {"poc": 0.06 ... (77 characters truncated) ... _count": 10}}, "confluence_zones": 1, "technical_analysis": true, "stoch_rsi_overbought": false, "stoch_rsi_bearish_cross": false, "ichimoku": false}', 'side__212': 'sell', 'technical_summary__212': '{"trend": {"direction": "Neutral", "score": 1, "sma_alignment": true, "ema_alignment": true}, "momentum": {"rsi": 54.60734753989868, "status": "Neutr ... (282 characters truncated) ... ", "ratio": 0.5211173259904368, "spike_detected": false}, "ichimoku": {"status": "Neutral", "price_above_cloud": false, "tenkan_above_kijun": false}}', 'order_type__212': 'limit', 'entry_price__212': 0.037347, 'stop_loss__212': 0.039329365064256036, 'confluence_zones__212': '[{"price": 0.03007947959183673, "strength": 90, "importance": 3, "confluence_count": 2, "methods": ["fib_100.0%", "hvn"], "distance_from_current": 0. ... (842 characters truncated) ... _count": 2, "methods": ["volume_val", "hvn"], "distance_from_current": 0.3689338021902826, "zone_type": "support", "total_score": 6.155330989048587}]', 'current_price__212': 0.036743, 'confidence__212': 65.0, 'mtf_confirmed_timeframes__212': '[]', 'volume_score__212': 0.5211173259904368, 'technical_score__212': 1.0, 'confluence_zones_count__212': 5, 'signal_type__212': 'enhanced_multi_method', 'scan_session_id__212': 1, 'volume_24h__212': 427843810.3458, 'fibonacci_data__212': '{"trend": "uptrend", "swing_high": 0.040274, "swing_low": 0.030137, "range": 0.010136999999999997, "levels": {"0.0%": 0.040274, "23.6%": 0.037881668, ... (314 characters truncated) ... 7.2%": 3, "141.4%": 2, "161.8%": 12}, "key_levels": {"golden_ratio": 0.034009334, "half_retracement": 0.0352055, "shallow_retracement": 0.036401666}}', 'mtf_confirmation_strength__212': 0.0, 'risk_level__212': 'Low', 'timestamp__212': datetime.datetime(2025, 7, 21, 21, 43, 21, 38288), 'volume_profile_data__212': '{"poc": 0.030826040816326526, "vah": 0.03364032653061225, "val": 0.023187265306122445, "hvn_levels": [0.023187265306122445, 0.029217877551020406, 0.0 ... (9341 characters truncated) ... 221556.6000113, 1520103868.200011, 1491140487.000011, 1498092699.800011], "total_volume": 113928213899.0, "value_area_volume_pct": 70.79730415900778}', 'risk_reward_ratio__212': 2.8, 'mtf_conflicting_timeframes__212': '["1h"]', 'priority_boost__212': 0, 'mtf_confirmation_count__212': 0, 'chart_file__212': None, 'mtf_boost__212': 0.0, 'original_confidence__212': 65.0, 'take_profit_2__212': 0.03179637782008309, 'take_profit_1__212': 0.03417521589719034, 'fibonacci_score__212': 0.0, 'mtf_status__212': 'NONE', 'symbol__212': 'PENGU/USDT:USDT', 'price_change_24h__212': 17.3897, 'total_risk_score__212': 0.21654774664684875, 'entry_methods__212': '{"volume_profile": {"entry_price": 0.033238285714285706, "confidence": 0.5, "method": "volume_profile", "supporting_data": {"poc": 0.0308260408163265 ... (65 characters truncated) ... _count": 10}}, "confluence_zones": 0, "technical_analysis": true, "stoch_rsi_overbought": false, "stoch_rsi_bearish_cross": false, "ichimoku": false}'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-07-21 22:43:21 - utils.database_manager - ERROR - Error saving opportunities to MySQL: (pymysql.err.DataError) (1406, "Data too long for column 'symbol' at row 102")
[SQL: INSERT INTO trading_opportunities (scan_session_id, timestamp, rank, symbol, side, order_type, confidence, original_confidence, mtf_boost, entry_price, current_price, stop_loss, take_profit_1, take_profit_2, risk_reward_ratio, volume_24h, total_score ... 149412 characters truncated ... , %(technical_strength__212)s) RETURNING trading_opportunities.id, trading_opportunities.id AS id__1]
[parameters: {'side__0': 'sell', 'order_type__0': 'limit', 'entry_price__0': 0.17158802953676322, 'stop_loss__0': 0.1761617950961769, 'total_score__0': 0.7947561931254605, 'mtf_conflicting__0': '[]', 'confidence__0': 95.0, 'current_price__0': 0.1707, 'volume_score__0': 0.0, 'technical_strength__0': 0.0, 'signal_type__0': 'enhanced_multi_method', 'scan_session_id__0': 1, 'rank__0': 1, 'volume_24h__0': 5107171.412, 'mtf_confirmation_strength__0': 1.0, 'risk_level__0': 'Low', 'timestamp__0': datetime.datetime(2025, 7, 21, 21, 43, 21, 499198), 'risk_reward_ratio__0': 1.5999999999999976, 'priority_boost__0': 100, 'distance_from_current__0': 0.0, 'mtf_confirmation_count__0': 3, 'chart_file__0': 'charts/tradingview_HAEDALUSDTUSDT_screenshot_20250721_224120.png', 'mtf_total_timeframes__0': 3, 'mtf_boost__0': 14.0, 'original_confidence__0': 81.0, 'take_profit_2__0': 0.15878148597040492, 'take_profit_1__0': 0.16427000464170133, 'mtf_status__0': 'STRONG', 'symbol__0': 'HAEDAL/USDT:USDT', 'mtf_confirmed__0': '["1h", "4h", "6h"]', 'side__1': 'buy', 'order_type__1': 'limit', 'entry_price__1': 0.08444981591836735, 'stop_loss__1': 0.08128553538494511, 'total_score__1': 0.7655644363452284, 'mtf_conflicting__1': '[]', 'confidence__1': 95.0, 'current_price__1': 0.0869, 'volume_score__1': 0.0, 'technical_strength__1': 0.0, 'signal_type__1': 'enhanced_multi_method', 'scan_session_id__1': 1, 'rank__1': 2, 'volume_24h__1': 16303549.5333, 'mtf_confirmation_strength__1': 1.0, 'risk_level__1': 'Low', 'timestamp__1': datetime.datetime(2025, 7, 21, 21, 43, 21, 499205), 'risk_reward_ratio__1': 1.600000000000001, 'priority_boost__1': 100, 'distance_from_current__1': 0.0 ... 6290 parameters truncated ... 'signal_type__211': 'enhanced_multi_method', 'scan_session_id__211': 1, 'rank__211': 212, 'volume_24h__211': 19265491.4371, 'mtf_confirmation_strength__211': 0.0, 'risk_level__211': 'High', 'timestamp__211': datetime.datetime(2025, 7, 21, 21, 43, 21, 499665), 'risk_reward_ratio__211': 1.6, 'priority_boost__211': 0, 'distance_from_current__211': 0.0, 'mtf_confirmation_count__211': 0, 'chart_file__211': None, 'mtf_total_timeframes__211': 3, 'mtf_boost__211': 0.0, 'original_confidence__211': 76.0, 'take_profit_2__211': 1.1105698572467944, 'take_profit_1__211': 1.0044741102634744, 'mtf_status__211': 'NONE', 'symbol__211': 'API3/USDT:USDT', 'mtf_confirmed__211': '[]', 'side__212': 'sell', 'order_type__212': 'limit', 'entry_price__212': 0.1367786303741497, 'stop_loss__212': 0.14587083579825655, 'total_score__212': 0.37007694618770004, 'mtf_conflicting__212': '["4h", "6h"]', 'confidence__212': 76.0, 'current_price__212': 0.12858, 'volume_score__212': 0.0, 'technical_strength__212': 0.0, 'signal_type__212': 'enhanced_multi_method', 'scan_session_id__212': 1, 'rank__212': 213, 'volume_24h__212': 13384630.7918, 'mtf_confirmation_strength__212': 0.0, 'risk_level__212': 'Medium', 'timestamp__212': datetime.datetime(2025, 7, 21, 21, 43, 21, 499667), 'risk_reward_ratio__212': 1.6000000000000003, 'priority_boost__212': 0, 'distance_from_current__212': 0.0, 'mtf_confirmation_count__212': 0, 'chart_file__212': None, 'mtf_total_timeframes__212': 3, 'mtf_boost__212': 0.0, 'original_confidence__212': 76.0, 'take_profit_2__212': 0.11132045518665049, 'take_profit_1__212': 0.12223110169557873, 'mtf_status__212': 'NONE', 'symbol__212': 'A8/USDT:USDT', 'mtf_confirmed__212': '[]'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
